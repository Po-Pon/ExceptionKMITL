{"remainingRequest":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\forumpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\forumpage.vue","mtime":1620302736002},{"path":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618583560579},{"path":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1618583559641},{"path":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618583560579},{"path":"C:\\Users\\boss\\OneDrive\\เอกสาร\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1618583585610}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHRva2VuVXNlcjogbnVsbCwNCiAgICAgICAgICAgIHRva2VuQWRtaW46IG51bGwsDQogICAgICAgICAgICByb2xlOiBudWxsLA0KICAgICAgICAgICAgaWQ6ICcnLA0KICAgICAgICAgICAgbWFuYWdlX2FjYzogbnVsbCwNCiAgICAgICAgICAgIG1hbmFnZV9zdGFuZGFuZDogbnVsbCwNCiAgICAgICAgICAgIHBlcm1pc3Npb25QYXRoOiBudWxsLA0KICAgICAgICAgICAgYXJjOiBudWxsDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMudG9rZW5Vc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5Vc2VyJykpDQogICAgICAgIHRoaXMudG9rZW5BZG1pbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuQWRtaW4nKSkNCiAgICAgICAgaWYodGhpcy50b2tlblVzZXIgIT0gbnVsbCl7dGhpcy5yb2xlID0gJ1VzZXInfQ0KICAgICAgICBpZih0aGlzLnRva2VuQWRtaW4gIT0gbnVsbCl7dGhpcy5yb2xlID0gJ0FkbWluJ30NCiAgICAgICAgaWYodGhpcy50b2tlblVzZXIgIT0gbnVsbCB8fCB0aGlzLnRva2VuQWRtaW4gIT0gbnVsbCl7DQogICAgICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvY2hlY2tUb2tlbkxvZ2luIiwgew0KICAgICAgICAgICAgICAgIHJvbGU6IHRoaXMucm9sZSwNCiAgICAgICAgICAgICAgICB0b2tlblVzZXI6IHRoaXMudG9rZW5Vc2VyLA0KICAgICAgICAgICAgICAgIHRva2VuQWRtaW46IHRoaXMudG9rZW5BZG1pbiwNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT0gJ1lvdSBjYW4gcGFzcyEgKFVzZXIpJyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaWQgPSByZXNwb25zZS5kYXRhLmlkDQogICAgICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblBhdGggPSAnL3VzZXInDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PSAnWW91IGNhbiBwYXNzISAoQWRtaW4pJyl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaWQgPSByZXNwb25zZS5kYXRhLmlkDQogICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlX2FjYyA9IHJlc3BvbnNlLmRhdGEucnVsZV9tYW5hZ2VfYWNjDQogICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlX3N0YW5kYW5kID0gcmVzcG9uc2UuZGF0YS5ydWxlX3N0YW5kYW5kX2FkbWluDQogICAgICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblBhdGggPSAnL2FkbWluJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pKS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgfSkgIA0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25QYXRoID0gJy8nDQogICAgICAgIH0NCiAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvZm9ydW0vIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmb3J1bV9pZCIpKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgIHRoaXMuYXJjID0gcmVzcG9uc2UuZGF0YVswXTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbMF0uZm9ydW1fZGVzY3JpcHRpb24pOw0KICAgICAgICAgICAgY29uc29sZS5sb2coInN1Y2Nlc3MiKTsNCiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgdGhpcy5hcmMgPSBlcnI7DQogICAgICAgIH0pDQogICAgfQ0KfQ0K"},{"version":3,"sources":["forumpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"forumpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"banner\" >\r\n        <div class=\"topnav_forum\">\r\n            <a :href=\"`${permissionPath}`\"><img src=\"/image/navbar/newlogo.png\" width=\"110px\" height=\"auto\" style=\"padding-left: 20px;\" alt=\"\"></a>\r\n            <ul>\r\n                <div id=\"MyClockDisplay\" class=\"clock\"></div>\r\n                <li id=\"comp1\" v-if=\"manage_acc == 1\"><a href=\"/manageUser\">Manage User</a></li>\r\n                <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageforum\">Manage Forum</a></li>\r\n                <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageReport\">Manage Report</a></li>\r\n                <template v-if=\"id ==''\">\r\n                <li id=\"comp2\"><a href=\"/login\">Log In</a></li>\r\n                <div class=\"line\"></div>\r\n                <li id=\"comp2\"><a href=\"/register\">Register</a></li>\r\n                </template>\r\n                <div class=\"dropdown\" v-if=\"id !=''\">\r\n                <a :href=\"`${permissionPath}`\" style=\"text-decoration: none;\" v-show=\"role == 'User'\"><button type=\"button\" class=\"home btn btn-outline-light\">Home</button></a>\r\n                <button class=\"btn btn-danger  dropdown-toggle\" id=\"comp3\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                    <i :class=\"{'fa fa-user-plus': role == 'Admin', 'fa fa-user': role == 'User'}\"></i> {{id}}\r\n                </button>\r\n                <p class=\"dropdown-menu\" >\r\n                    <button class=\"dropdown-item text-danger\" type=\"button\" @click=\"logout()\">ออกจากระบบ</button>\r\n                </p>\r\n                </div>\r\n            </ul>\r\n        </div>\r\n        </div>\r\n        <div class=\"container-fluid\" id=\"all_arc\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <p id=\"arc_title\">{{arc.forum_topic}}</p>\r\n                    <i id=\"arc_date\">Date: {{arc.forum_release_date}}</i>\r\n                    <center><img id=\"arc_image\" :src=\"arc.image_address\"></center>\r\n                    <p id=\"arc_description\">{{arc.forum_description}}</p>\r\n                    <a href=\"/forum\" id=\"back_to_forum\">กลับไปยังหน้าข่าวประชาสัมพันธ์</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <footer>\r\n        <div id=\"footer_homepage\">\r\n            <a id=\"footer_button\" class=\"btn\" href=\"/help\" v-show=\"id != ''\">HELP</a>\r\n            <p id=\"address\">King Mongkut's Institute of Technology Ladkrabang</p>\r\n            <p id=\"address\">1 Chalong Krung 1 Alley, Lat Krabang, Bangkok 10520</p>\r\n            <p id=\"address\">02 723 4900</p>\r\n        </div>\r\n    </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\n    export default {\r\n    data() {\r\n        return{\r\n            tokenUser: null,\r\n            tokenAdmin: null,\r\n            role: null,\r\n            id: '',\r\n            manage_acc: null,\r\n            manage_standand: null,\r\n            permissionPath: null,\r\n            arc: null\r\n        }\r\n    },\r\n    created() {\r\n        this.tokenUser = JSON.parse(localStorage.getItem('tokenUser'))\r\n        this.tokenAdmin = JSON.parse(localStorage.getItem('tokenAdmin'))\r\n        if(this.tokenUser != null){this.role = 'User'}\r\n        if(this.tokenAdmin != null){this.role = 'Admin'}\r\n        if(this.tokenUser != null || this.tokenAdmin != null){\r\n            axios.post(\"http://localhost:5000/checkTokenLogin\", {\r\n                role: this.role,\r\n                tokenUser: this.tokenUser,\r\n                tokenAdmin: this.tokenAdmin,\r\n            }).then((response => {\r\n                if(response.data.message == 'You can pass! (User)'){\r\n                    this.id = response.data.id\r\n                    this.permissionPath = '/user'\r\n                }\r\n                if(response.data.message == 'You can pass! (Admin)'){\r\n                    this.id = response.data.id\r\n                    this.manage_acc = response.data.rule_manage_acc\r\n                    this.manage_standand = response.data.rule_standand_admin\r\n                    this.permissionPath = '/admin'\r\n                }\r\n            })).catch((err) => {\r\n                console.log(err)\r\n            })  \r\n        }\r\n        else{\r\n            this.permissionPath = '/'\r\n        }\r\n        axios.get(\"http://localhost:5000/forum/\" + localStorage.getItem(\"forum_id\"))\r\n        .then((response) => {\r\n            this.arc = response.data[0];\r\n            console.log(response.data[0].forum_description);\r\n            console.log(\"success\");\r\n        }).catch((err) => {\r\n            this.arc = err;\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n  #navbar_homepage{\r\n    background-color: rgb(150, 54, 3);\r\n    height: 12%;\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n#logo_navbar{\r\n    margin-left: 3%;\r\n    margin-top: -3%;\r\n    width: 20%;\r\n    height: 10%;\r\n}\r\n\r\n#navbar_manage{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n    font-size: 20px;\r\n    font-weight: 200;\r\n    margin-right: 40px;\r\n}\r\n\r\n#navbar_register{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n}\r\n\r\n#line_register{\r\n    width: 0px;\r\n    border-left: 2px solid #ffffff;\r\n    height: 39px;\r\n    display: inline;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n}\r\n#all_arc{\r\n    padding-top: 7%;\r\n    padding-right: 8%;\r\n    padding-left: 8%;\r\n    padding-bottom: 7%\r\n}\r\n#arc_title{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #E35205;\r\n    font-size: 35px;\r\n    font-weight: 700;\r\n    text-align: center;\r\n}\r\n#arc_date{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #E35205;\r\n    font-size: 20px;\r\n    font-weight: 300;\r\n    margin-bottom: 5%;\r\n}\r\n#arc_image{\r\n    width: 60%;\r\n    height: 60%;\r\n    padding-top: 5%;\r\n}\r\n#arc_description{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #E35205;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    text-align: left;\r\n    word-wrap: break-word;\r\n    padding-top: 5%;\r\n}\r\n#back_to_forum{\r\n    font-family: 'Kanit', sans-serif;\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    text-align: left;\r\n    padding-bottom: 5%;\r\n}\r\n#back_to_forum:hover{\r\n    color: rgb(150, 54, 3);\r\n}\r\n#footer_homepage{\r\n    width: 100%;\r\n    height: 78px;\r\n    background-color: #E35205;\r\n}\r\n\r\n#address{\r\n    font-family: 'Kanit', sans-serif;\r\n    font-size: 15px;\r\n    font-weight: 200;\r\n    color : #ffffff;\r\n    margin-left: 30px;\r\n    margin-bottom: 0em;\r\n}\r\n\r\n#footer_button{\r\n    width: 119px;\r\n    height: 46px;\r\n    border-radius: 10px;\r\n    background-color: #ffffff;\r\n    font-family: 'Kanit', sans-serif;\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    float: right;\r\n    text-align: center;\r\n    margin-top: 16px;\r\n    margin-right: 30px;\r\n    color:  #1a1819;\r\n}\r\n</style>"]}]}