{"remainingRequest":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\login.vue?vue&type=style&index=0&id=7589b93f&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\login.vue","mtime":1618479554815},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KI2xvZ2luZm9ybSB7DQogICAgZGlzcGxheTogZmxleDsNCiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7DQp9DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"banner\">\r\n    <div class=\"topnav\">\r\n      <a href=\"/home\"\r\n        ><img\r\n          src=\"/image/navbar/newlogo.png\"\r\n          width=\"110px\"\r\n          height=\"auto\"\r\n          style=\"padding-left: 20px\"\r\n          alt=\"\"\r\n      /></a>\r\n      <ul>\r\n        <li id=\"comp1\"><a href=\"/\">Manage User</a></li>\r\n        <li id=\"comp1\"><a href=\"/\">Manage Forum</a></li>\r\n        <li id=\"comp1\"><a href=\"/\">Manage Problem</a></li>\r\n        <li id=\"comp2\"><a href=\"/login\">Log In</a></li>\r\n        <div class=\"line\"></div>\r\n        <li id=\"comp2\"><a href=\"/register\">Register</a></li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"container p-6 mt-4\" id=\"loginform\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-4\" id=\"loginLeft\">\r\n            <!-- <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n                    With Bootstrap!\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                </div> -->\r\n            <div class=\"p-6 mt-6\" style=\"background-color: red\">\r\n              <img\r\n                src=\"/image/navbar/newlogo.png\"\r\n                width=\"100%\"\r\n                height=\"auto\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <img src=\"/image/login/cloud.png\" alt=\"\" id=\"cloud1\" />\r\n          </div>\r\n          <div class=\"col-md-8\" id=\"loginRight\">\r\n            <p v-html=\"br\" />\r\n            <div\r\n              class=\"p-6 mt-6 mb-6 ml-6 mr-6\"\r\n              style=\"background-color: #130d0d\"\r\n            >\r\n              <p style=\"font-size: 35px; font-weight: 500; color: white\">\r\n                Welcome to <span style=\"color: red\">ExceptionKMITL!</span>\r\n              </p>\r\n              <p\r\n                style=\"\r\n                  font-size: 20px;\r\n                  font-weight: 500;\r\n                  color: white;\r\n                  opacity: 0.5;\r\n                \"\r\n              >\r\n                Log in your account\r\n              </p>\r\n              <form v-on:submit.prevent=\"login\">\r\n                <div class=\"form-group\">\r\n                  <label\r\n                    for=\"InputEmailLogin\"\r\n                    style=\"font-size: 20px; font-weight: 500; color: white\"\r\n                    >Email</label\r\n                  >\r\n                  <input\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    v-model.trim.lazy=\"$v.email.$model\"\r\n                    :class=\"{\r\n                      'is-invalid':\r\n                        validationStatusError($v.email) ||\r\n                        emailError == 'error',\r\n                      'is-valid': !$v.email.$invalid,\r\n                    }\"\r\n                    id=\"InputemailLogin\"\r\n                  />\r\n                  <div class=\"valid-feedback\"></div>\r\n                  <div class=\"invalid-feedback\">\r\n                    <span v-if=\"!$v.email.required\">กรุณากรอก Email</span>\r\n                    <span v-if=\"!$v.email.email\"></span>\r\n                    <!-- <span v-if=\"emailError == 'error'\">Email ไม่ถูกต้องกรุณาตรวจสอบแล้วลองใหม่อีกครั้ง</span> -->\r\n                  </div>\r\n                  <div\r\n                    class=\"alert alert-success alert-dismissible fade show\"\r\n                    role=\"alert\"\r\n                    v-if=\"emailError == 'error'\"\r\n                  >\r\n                    Email ไม่ถูกต้องกรุณาตรวจสอบแล้วลองใหม่อีกครั้ง\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"close\"\r\n                      data-dismiss=\"alert\"\r\n                      aria-label=\"Close\"\r\n                      @click=\"email_reset()\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label\r\n                    for=\"InputPasswordLogin\"\r\n                    style=\"font-size: 20px; font-weight: 500; color: white\"\r\n                    >Password</label\r\n                  >\r\n                  <input\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    v-model.trim.lazy=\"$v.password.$model\"\r\n                    :class=\"{\r\n                      'is-invalid':\r\n                        validationStatusError($v.password) ||\r\n                        passwordError == 'error',\r\n                      'is-valid': !$v.password.$invalid,\r\n                    }\"\r\n                    id=\"InputPasswordLogin\"\r\n                  />\r\n                  <a @click=\"togglePassLogin()\"\r\n                    ><span\r\n                      class=\"fa fa-fw fa-eye field-icon toggle-password\"\r\n                    ></span\r\n                  ></a>\r\n                  <div class=\"valid-feedback\"></div>\r\n                  <div class=\"invalid-feedback\">\r\n                    <span v-if=\"!$v.password.required\">กรุณากรอกรหัสผ่าน</span>\r\n                    <span v-if=\"!$v.password.minLength\"\r\n                      >Password ต้องไม่ต่ำกว่า 16 ตัว</span\r\n                    >\r\n                    <span v-if=\"!$v.password.maxLength\"\r\n                      >Password ต้องไม่เกิน 255 ตัว</span\r\n                    >\r\n                    <!-- <span v-if=\"passwordError == 'error'\">รหัสผ่านไม่ถูกต้อง</span> -->\r\n                  </div>\r\n                  <div\r\n                    class=\"alert alert-success alert-dismissible fade show\"\r\n                    role=\"alert\"\r\n                    v-if=\"passwordError == 'error'\"\r\n                  >\r\n                    รหัสผ่านไม่ถูกต้อง\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"close\"\r\n                      data-dismiss=\"alert\"\r\n                      aria-label=\"Close\"\r\n                      @click=\"password_reset()\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group form-check\" style=\"padding-left: 24px\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    class=\"form-check-input\"\r\n                    id=\"Check1\"\r\n                    style=\"background-color: #130d0d; border-color: white\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"Check1\"\r\n                    >Remember me</label\r\n                  >\r\n                  <a\r\n                    href=\"/home\"\r\n                    style=\"\r\n                      float: right;\r\n                      font-weight: 300;\r\n                      opacity: 0.5;\r\n                      color: white;\r\n                    \"\r\n                    ><span><u>Forgot password?</u></span></a\r\n                  >\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  class=\"btn btn-danger\"\r\n                  style=\"\r\n                    font-size: 15px;\r\n                    font-weight: 300;\r\n                    border-radius: 20px;\r\n                    padding: 5px 30px 5px 30px;\r\n                  \"\r\n                >\r\n                  Log in\r\n                </button>\r\n                <br /><br />\r\n                <p style=\"font-size: 10px; font-weight: 400; color: white\">\r\n                  Don't have an account yet?\r\n                  <a href=\"/register\" style=\"text-decoration: none\"\r\n                    ><span style=\"color: red\"\r\n                      ><b>Create your account now!</b></span\r\n                    ></a\r\n                  >\r\n                </p>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { required, email } from 'vuelidate/lib/validators'\r\nimport {\r\n  required,\r\n  email,\r\n  minLength,\r\n  maxLength,\r\n} from \"vuelidate/lib/validators\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      emailError: \"\",\r\n      password: \"\",\r\n      passwordError: \"\",\r\n      br: \"<br><br>\",\r\n    };\r\n  },\r\n  validations: {\r\n    email: {\r\n      required,\r\n      email,\r\n    },\r\n    password: {\r\n      required,\r\n      minLength: minLength(16),\r\n      maxLength: maxLength(255),\r\n    },\r\n  },\r\n  methods: {\r\n    togglePassLogin() {\r\n      var x = document.getElementById(\"InputPasswordLogin\");\r\n      if (x.type === \"password\") {\r\n        x.type = \"text\";\r\n      } else {\r\n        x.type = \"password\";\r\n      }\r\n    },\r\n    validationStatusError(validation) {\r\n      return typeof validation != \"undefined\" ? validation.$error : false;\r\n    },\r\n    email_reset() {\r\n      this.emailError = \"\";\r\n    },\r\n    password_reset() {\r\n      this.passwordError = \"\";\r\n    },\r\n    login() {\r\n      this.br = \"\";\r\n      this.$v.$touch();\r\n      if (this.$v.$pendding || this.$v.$error) return;\r\n      axios\r\n        .post(\"http://localhost:5000/checkingLogin\", {\r\n          form: {\r\n            email: this.email,\r\n            password: this.password,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          const data = response.data;\r\n          this.emailError = data.errorEmail;\r\n          this.passwordError = data.errorPassword;\r\n          // console.log(this.emailError)\r\n          // console.log(this.passwordError)\r\n          // console.log(response.data)\r\n          console.log(data.message);\r\n          if (data.message == \"log in success!\") {\r\n            let myJSON = JSON.stringify(data);\r\n            localStorage.setItem(\"formLogin\", myJSON);\r\n            this.$router.push({ name: \"Home\" });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#loginform {\r\n    display: flex;\r\n  background-color: black;\r\n}\r\n</style>\r\n\r\n"]}]}