{"remainingRequest":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\help.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\help.vue","mtime":1620321404427},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\phala\\Documents\\GitHub\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHRva2VuVXNlcjogbnVsbCwNCiAgICAgICAgICAgIHRva2VuQWRtaW46IG51bGwsDQogICAgICAgICAgICByb2xlOiBudWxsLA0KICAgICAgICAgICAgaWQ6ICcnLA0KICAgICAgICAgICAgYWNjX2lkOiBudWxsLA0KICAgICAgICAgICAgbWFuYWdlX2FjYzogbnVsbCwNCiAgICAgICAgICAgIG1hbmFnZV9zdGFuZGFuZDogbnVsbCwNCiAgICAgICAgICAgIHBlcm1pc3Npb25QYXRoOiBudWxsLA0KICAgICAgICAgICAgLy8gZmVlZGJhY2sNCiAgICAgICAgICAgIHJlcG9ydF9kZXNjaXB0aW9uOiAnJw0KICAgICAgICB9DQogICAgfSwNCiAgICB2YWxpZGF0aW9uczp7DQogICAgICAgIHJlcG9ydF9kZXNjaXB0aW9uOnsNCiAgICAgICAgICAgIHJlcXVpcmVkDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICAgICAgdGhpcy50b2tlblVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlblVzZXInKSkNCiAgICAgICAgdGhpcy50b2tlbkFkbWluID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5BZG1pbicpKQ0KICAgICAgICBpZih0aGlzLnRva2VuVXNlciAhPSBudWxsIHx8IHRoaXMudG9rZW5BZG1pbiAhPSBudWxsKXsNCiAgICAgICAgICAgIGlmKHRoaXMudG9rZW5Vc2VyICE9IG51bGwpe3RoaXMucm9sZSA9ICdVc2VyJ30NCiAgICAgICAgICAgIGlmKHRoaXMudG9rZW5BZG1pbiAhPSBudWxsKXt0aGlzLnJvbGUgPSAnQWRtaW4nfQ0KICAgICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NoZWNrVG9rZW5Mb2dpbiIsIHsNCiAgICAgICAgICAgICAgICByb2xlOiB0aGlzLnJvbGUsDQogICAgICAgICAgICAgICAgdG9rZW5Vc2VyOiB0aGlzLnRva2VuVXNlciwNCiAgICAgICAgICAgICAgICB0b2tlbkFkbWluOiB0aGlzLnRva2VuQWRtaW4sDQogICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09ICdZb3UgY2FuIHBhc3MhIChVc2VyKScpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmlkID0gcmVzcG9uc2UuZGF0YS5pZA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY19pZCA9cmVzcG9uc2UuZGF0YS5hY2NfaWQNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uUGF0aCA9ICcvdXNlcicNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09ICdZb3UgY2FuIHBhc3MhIChBZG1pbiknKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlc3BvbnNlLmRhdGEuaWQNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY2NfaWQgPXJlc3BvbnNlLmRhdGEuYWNjX2lkDQogICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlX2FjYyA9IHJlc3BvbnNlLmRhdGEucnVsZV9tYW5hZ2VfYWNjDQogICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlX3N0YW5kYW5kID0gcmVzcG9uc2UuZGF0YS5ydWxlX3N0YW5kYW5kX2FkbWluDQogICAgICAgICAgICAgICAgICAgIHRoaXMucGVybWlzc2lvblBhdGggPSAnL2FkbWluJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pKS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzISBFcnJvciBZb3VyIHRva2VuIGhhaGFoYWhhLicsDQogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiSG9tZSIgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgfSkgIA0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgICB0aGlzLiRzd2FsKHsNCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsDQogICAgICAgICAgICAgICAgdGl0bGU6ICfguIHguKPguLjguJPguLLguKXguYfguK3guIHguK3guLTguJnguIHguYjguK3guJnguYDguILguYnguLLguYPguIrguYnguIfguLLguJknLA0KICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkhvbWUiIH0pOw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgbG9nb3V0KCl7DQogICAgICAgICAgICB0aGlzLmlkID0gJycNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkhvbWUiIH0pOw0KICAgICAgICB9LA0KICAgICAgICB2YWxpZGF0aW9uU3RhdHVzRXJyb3IodmFsaWRhdGlvbikgew0KICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWxpZGF0aW9uICE9ICJ1bmRlZmluZWQiID8gdmFsaWRhdGlvbi4kZXJyb3IgOiBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgc3VibWl0KCl7DQogICAgICAgICAgICB0aGlzLiR2LiR0b3VjaCgpOw0KICAgICAgICAgICAgaWYoIHRoaXMuJHYuJHBlbmRkaW5nIHx8IHRoaXMuJHYuJGVycm9yICkgcmV0dXJuOw0KICAgICAgICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywNCiAgICAgICAgICAgICAgICB0ZXh0OiAiV291bGQgeW91IGxpa2UgdG8gc2VuZCBhIGZlZWRiYWNrPyIsDQogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0NvbmZpcm0nDQogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7DQogICAgICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9zZW5kZmVlZGJhY2siLHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY19pZDogdGhpcy5hY2NfaWQsDQogICAgICAgICAgICAgICAgICAgICAgICByZXBvcnRfZGVzY2lwdGlvbjogdGhpcy5yZXBvcnRfZGVzY2lwdGlvbg0KICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT57DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydF9kZXNjaXB0aW9uID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR2LiRyZXNldCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2VudCBzdWNjZXNzZnVsbHknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMA0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQ0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["help.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"help.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"banner\">\r\n            <div class=\"topnav_reportform\">\r\n                <a :href=\"`${permissionPath}`\"><img src=\"/image/navbar/newlogo.png\" width=\"110px\" height=\"auto\" style=\"padding-left: 20px;\" alt=\"\"></a>\r\n                <ul>\r\n                    <div id=\"MyClockDisplay\" class=\"clock\"></div>\r\n                    <li id=\"comp1\" v-if=\"manage_acc == 1\"><a href=\"/manageUser\">Manage User</a></li>\r\n                    <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageforum\">Manage Forum</a></li>\r\n                    <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageReport\">Manage Report</a></li>\r\n                    <template v-if=\"id ==''\">\r\n                        <li id=\"comp2\"><a href=\"/login\">Log In</a></li>\r\n                        <div class=\"line\"></div>\r\n                        <li id=\"comp2\"><a href=\"/register\">Register</a></li>\r\n                    </template>\r\n                    <div class=\"dropdown\" v-if=\"id !=''\">\r\n                        <a :href=\"`${permissionPath}`\" style=\"text-decoration: none;\" v-show=\"role == 'User'\"><button type=\"button\" class=\"home btn btn-outline-light\">Home</button></a>\r\n                        <button class=\"btn btn-danger  dropdown-toggle\" id=\"comp3\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                            <i :class=\"{'fa fa-user-plus': role == 'Admin', 'fa fa-user': role == 'User'}\"></i> {{id}}\r\n                        </button>\r\n                        <p class=\"dropdown-menu\" >\r\n                            <button class=\"dropdown-item text-danger\" type=\"button\" @click=\"logout()\">ออกจากระบบ</button>\r\n                        </p>\r\n                    </div>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"container\" style=\"margin-top:50px; padding-bottom:200px;\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-2\"><hr></div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\" style=\"color:white; text-align:center; font-size:25px;\">Your feedback</label>\r\n                        <div class=\"control\">\r\n                            <textarea class=\"textarea\" style=\"background-color:#11538C; color:white;\" v-model.trim.lazy=\"$v.report_desciption.$model\" :class=\"{'is-invalid': validationStatusError($v.report_desciption), 'is-valid': !$v.report_desciption.$invalid }\"></textarea>\r\n                            <div class=\"invalid-feedback\" style=\"font-size:15px;\">\r\n                              <span v-if=\"!$v.report_desciption.required\">กรอกอะไรสักหน่อยย</span>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                        <div class=\"field is-grouped\" style=\"padding: 0px 0px 50px 220px;\">\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-danger\" @click=\"submit()\">Submit</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                    <img src=\"/image/help/help.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"col-md-2\"><hr></div>\r\n            </div>\r\n            <hr>\r\n        </div>\r\n        <footer>\r\n          <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"copyright text-white\" style=\"font-weight: 200;\"> \r\n                        King Mongkut's Institute of technology Ladkrabang<br>\r\n                        1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520<br>\r\n                        02 723 4900\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"copyright\" style=\"padding: 20px; color: #aaa; float:right;\">\r\n                        Copyright &copy; 2021 ExptionKMITL\r\n                    </div>\r\n                </div>\r\n          </div>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { required } from \"vuelidate/lib/validators\";\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return{\r\n            tokenUser: null,\r\n            tokenAdmin: null,\r\n            role: null,\r\n            id: '',\r\n            acc_id: null,\r\n            manage_acc: null,\r\n            manage_standand: null,\r\n            permissionPath: null,\r\n            // feedback\r\n            report_desciption: ''\r\n        }\r\n    },\r\n    validations:{\r\n        report_desciption:{\r\n            required\r\n        }\r\n    },\r\n    created(){\r\n        this.tokenUser = JSON.parse(localStorage.getItem('tokenUser'))\r\n        this.tokenAdmin = JSON.parse(localStorage.getItem('tokenAdmin'))\r\n        if(this.tokenUser != null || this.tokenAdmin != null){\r\n            if(this.tokenUser != null){this.role = 'User'}\r\n            if(this.tokenAdmin != null){this.role = 'Admin'}\r\n            axios.post(\"http://localhost:5000/checkTokenLogin\", {\r\n                role: this.role,\r\n                tokenUser: this.tokenUser,\r\n                tokenAdmin: this.tokenAdmin,\r\n            }).then((response => {\r\n                if(response.data.message == 'You can pass! (User)'){\r\n                    this.id = response.data.id\r\n                    this.acc_id =response.data.acc_id\r\n                    this.permissionPath = '/user'\r\n                }\r\n                if(response.data.message == 'You can pass! (Admin)'){\r\n                    this.id = response.data.id\r\n                    this.acc_id =response.data.acc_id\r\n                    this.manage_acc = response.data.rule_manage_acc\r\n                    this.manage_standand = response.data.rule_standand_admin\r\n                    this.permissionPath = '/admin'\r\n                }\r\n            })).catch((err) => {\r\n                this.$swal({\r\n                    icon: 'warning',\r\n                    title: 'Oops! Error Your token hahahaha.',\r\n                    showConfirmButton: true,\r\n                })\r\n                this.$router.push({ name: \"Home\" });\r\n                console.log(err)\r\n            })  \r\n        }\r\n        else{\r\n            this.$swal({\r\n                icon: 'warning',\r\n                title: 'กรุณาล็อกอินก่อนเข้าใช้งาน',\r\n                showConfirmButton: true,\r\n            })\r\n            this.$router.push({ name: \"Home\" });\r\n        }\r\n    },\r\n    methods:{\r\n        logout(){\r\n            this.id = ''\r\n            this.$router.push({ name: \"Home\" });\r\n        },\r\n        validationStatusError(validation) {\r\n            return typeof validation != \"undefined\" ? validation.$error : false;\r\n        },\r\n        submit(){\r\n            this.$v.$touch();\r\n            if( this.$v.$pendding || this.$v.$error ) return;\r\n            this.$swal({\r\n                title: 'Are you sure?',\r\n                text: \"Would you like to send a feedback?\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Confirm'\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    axios.post(\"http://localhost:5000/sendfeedback\",{\r\n                        acc_id: this.acc_id,\r\n                        report_desciption: this.report_desciption\r\n                    }).then((response) =>{\r\n                        this.report_desciption = '';\r\n                        this.$v.$reset();\r\n                        this.$swal({\r\n                            icon: 'success',\r\n                            title: 'Sent successfully',\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        })\r\n                        console.log(response)\r\n                    }).catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    footer {\r\n        left: 0;\r\n        bottom: 0;\r\n        width: 100%;\r\n        background-color: #963306;\r\n        padding: 10px 0px 10px 30px;\r\n    }\r\n</style>"]}]}