{"remainingRequest":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\changePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\changePassword.vue","mtime":1620205355685},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619237951333},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1619237950930},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619237951333},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1619237967429}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICBwZXJtaXNzaW9uOiBudWxsLA0KICAgICAgICAgIHRva2VuVXNlcjogbnVsbCwNCiAgICAgICAgICB0b2tlbkFkbWluRXJyb3I6IG51bGwsDQogICAgICAgICAgaWQ6ICcnLA0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMudG9rZW5Vc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5Vc2VyJykpDQogICAgICAgIHRoaXMudG9rZW5BZG1pbkVycm9yID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5BZG1pbicpKQ0KICAgICAgICBpZih0aGlzLnRva2VuVXNlciAhPSBudWxsKXsNCiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbiA9ICdmb3IgdXNlcicNCiAgICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9jaGVja1Rva2VuTG9naW4iLCB7DQogICAgICAgICAgICAgICAgcm9sZTogJ1VzZXInLA0KICAgICAgICAgICAgICAgIHRva2VuVXNlcjogdGhpcy50b2tlblVzZXINCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09ICdZb3UgY2FuIHBhc3MhIChVc2VyKScpew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlc3BvbnNlLmRhdGEuaWQNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIllvdSBjYW4ndCBhY2Nlc3MgdGhlIHVzZXIsIHlvdSBhcmUgdGhlIGFkbWluLiEgaGFoYWhhLiIpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJIb21lIiB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkNCiAgICAgICAgICAgIH0pKS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgYWxlcnQoIkVycm9yIFlvdXIgdG9rZW4hIGhhaGFoYWhhLiIpDQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAiSG9tZSIgfSk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgICAgaWYodGhpcy50b2tlbkFkbWluRXJyb3IgIT0gbnVsbCl7DQogICAgICAgICAgICAgICAgYWxlcnQoJ+C4hOC4uOC4k+C5hOC4oeC5iOC5g+C4iuC5iCB1c2VyIGVpZWknKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICBhbGVydCgi4LiB4Lij4Li44LiT4Liy4Lil4LmH4Lit4LiB4Lit4Li04LiZ4LiB4LmI4Lit4LiZ4LmA4LiC4LmJ4Liy4LmD4LiK4LmJ4LiH4Liy4LiZIikNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJIb21lIiB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQp9DQo="},{"version":3,"sources":["changePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"changePassword.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"banner\" >\r\n      <div class=\"topnav_forum\">\r\n        <a :href=\"`${permissionPath}`\"><img src=\"/image/navbar/newlogo.png\" width=\"110px\" height=\"auto\" style=\"padding-left: 20px;\" alt=\"\"></a>\r\n          <ul>\r\n            <div id=\"MyClockDisplay\" class=\"clock\"></div>\r\n            <li id=\"comp1\" v-if=\"manage_acc == 1\"><a href=\"/manageUser\">Manage User</a></li>\r\n            <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageforum\">Manage Forum</a></li>\r\n            <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageReport\">Manage Report</a></li>\r\n            <template v-if=\"id ==''\">\r\n              <li id=\"comp2\"><a href=\"/login\">Log In</a></li>\r\n              <div class=\"line\"></div>\r\n              <li id=\"comp2\"><a href=\"/register\">Register</a></li>\r\n            </template>\r\n            <div class=\"dropdown\" v-if=\"id !=''\">\r\n              <a :href=\"`${permissionPath}`\" style=\"text-decoration: none;\" v-show=\"role == 'User'\"><button type=\"button\" class=\"home btn btn-outline-light\">Home</button></a>\r\n              <button class=\"btn btn-danger  dropdown-toggle\" id=\"comp3\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                <i :class=\"{'fa fa-user-plus': role == 'Admin', 'fa fa-user': role == 'User'}\"></i> {{id}}\r\n              </button>\r\n              <p class=\"dropdown-menu\" >\r\n                <button class=\"dropdown-item text-danger\" type=\"button\" @click=\"logout()\">ออกจากระบบ</button>\r\n              </p>\r\n            </div>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return{\r\n          permission: null,\r\n          tokenUser: null,\r\n          tokenAdminError: null,\r\n          id: '',\r\n        }\r\n    },\r\n    created(){\r\n        this.tokenUser = JSON.parse(localStorage.getItem('tokenUser'))\r\n        this.tokenAdminError = JSON.parse(localStorage.getItem('tokenAdmin'))\r\n        if(this.tokenUser != null){\r\n            this.permission = 'for user'\r\n            axios.post(\"http://localhost:5000/checkTokenLogin\", {\r\n                role: 'User',\r\n                tokenUser: this.tokenUser\r\n            }).then((response => {\r\n                    if(response.data.message == 'You can pass! (User)'){\r\n                        this.id = response.data.id\r\n                    }\r\n                    else{\r\n                        alert(\"You can't access the user, you are the admin.! hahaha.\")\r\n                        this.$router.push({ name: \"Home\" });\r\n                    }\r\n                    console.log(response)\r\n            })).catch((err) => {\r\n                alert(\"Error Your token! hahahaha.\")\r\n                this.$router.push({ name: \"Home\" });\r\n                console.log(err)\r\n            })\r\n        }\r\n        else{\r\n            if(this.tokenAdminError != null){\r\n                alert('คุณไม่ใช่ user eiei')\r\n            }\r\n            else{\r\n                alert(\"กรุณาล็อกอินก่อนเข้าใช้งาน\")\r\n                this.$router.push({ name: \"Home\" });\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}