{"remainingRequest":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\help.vue?vue&type=style&index=0&id=6c9a95db&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\src\\views\\help.vue","mtime":1620244256750},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1619237953444},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1619237967429},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1619237960323},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619237951333},{"path":"C:\\Users\\Prathan\\Desktop\\code\\webpro\\ExceptionKMITL\\Last Web\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1619237967429}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmZvb3RlciB7CiAgICBsZWZ0OiAwOwogICAgYm90dG9tOiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTYzMzA2OwogICAgcGFkZGluZzogMTBweCAwcHggMTBweCAzMHB4Owp9Cg=="},{"version":3,"sources":["help.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA;AACA;AACA;AACA","file":"help.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"banner\">\r\n            <div class=\"topnav_reportform\">\r\n                <a :href=\"`${permissionPath}`\"><img src=\"/image/navbar/newlogo.png\" width=\"110px\" height=\"auto\" style=\"padding-left: 20px;\" alt=\"\"></a>\r\n                <ul>\r\n                    <div id=\"MyClockDisplay\" class=\"clock\"></div>\r\n                    <li id=\"comp1\" v-if=\"manage_acc == 1\"><a href=\"/manageUser\">Manage User</a></li>\r\n                    <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageforum\">Manage Forum</a></li>\r\n                    <li id=\"comp1\" v-if=\"manage_standand == 1\"><a href=\"/manageReport\">Manage Report</a></li>\r\n                    <template v-if=\"id ==''\">\r\n                        <li id=\"comp2\"><a href=\"/login\">Log In</a></li>\r\n                        <div class=\"line\"></div>\r\n                        <li id=\"comp2\"><a href=\"/register\">Register</a></li>\r\n                    </template>\r\n                    <div class=\"dropdown\" v-if=\"id !=''\">\r\n                        <a :href=\"`${permissionPath}`\" style=\"text-decoration: none;\" v-show=\"role == 'User'\"><button type=\"button\" class=\"home btn btn-outline-light\">Home</button></a>\r\n                        <button class=\"btn btn-danger  dropdown-toggle\" id=\"comp3\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                            <i :class=\"{'fa fa-user-plus': role == 'Admin', 'fa fa-user': role == 'User'}\"></i> {{id}}\r\n                        </button>\r\n                        <p class=\"dropdown-menu\" >\r\n                            <button class=\"dropdown-item text-danger\" type=\"button\" @click=\"logout()\">ออกจากระบบ</button>\r\n                        </p>\r\n                    </div>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"container\" style=\"margin-top:50px; padding-bottom:200px;\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-2\"><hr></div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"field\">\r\n                        <label class=\"label\" style=\"color:white; text-align:center; font-size:25px;\">Your feedback</label>\r\n                        <div class=\"control\">\r\n                            <textarea class=\"textarea\" style=\"background-color:#11538C; color:white;\" v-model.trim.lazy=\"$v.report_desciption.$model\" :class=\"{'is-invalid': validationStatusError($v.report_desciption), 'is-valid': !$v.report_desciption.$invalid }\"></textarea>\r\n                            <div class=\"invalid-feedback\" style=\"font-size:15px;\">\r\n                              <span v-if=\"!$v.report_desciption.required\">กรอกอะไรสักหน่อยย</span>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                        <div class=\"field is-grouped\" style=\"padding: 0px 0px 50px 220px;\">\r\n                        <div class=\"control\">\r\n                            <button class=\"button is-danger\" @click=\"submit()\">Submit</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-2\">\r\n                    <img src=\"/image/help/help.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"col-md-2\"><hr></div>\r\n            </div>\r\n            <hr>\r\n        </div>\r\n        <footer>\r\n          <div class=\"row\">\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"copyright text-white\" style=\"font-weight: 200;\"> \r\n                        King Mongkut's Institute of technology Ladkrabang<br>\r\n                        1Chalong Krung 1 Alley, Lat Krabang Bangkok 10520<br>\r\n                        02 723 4900\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                    <div class=\"copyright\" style=\"padding: 20px; color: #aaa; float:right;\">\r\n                        Copyright &copy; 2021 ExptionKMITL\r\n                    </div>\r\n                </div>\r\n          </div>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { required } from \"vuelidate/lib/validators\";\r\nimport axios from \"axios\";\r\nexport default {\r\n    data() {\r\n        return{\r\n            tokenUser: null,\r\n            tokenAdmin: null,\r\n            role: null,\r\n            id: '',\r\n            acc_id: null,\r\n            manage_acc: null,\r\n            manage_standand: null,\r\n            permissionPath: null,\r\n            // feedback\r\n            report_desciption: ''\r\n        }\r\n    },\r\n    validations:{\r\n        report_desciption:{\r\n            required\r\n        }\r\n    },\r\n    created(){\r\n        this.tokenUser = JSON.parse(localStorage.getItem('tokenUser'))\r\n        this.tokenAdmin = JSON.parse(localStorage.getItem('tokenAdmin'))\r\n        if(this.tokenUser != null || this.tokenAdmin != null){\r\n            if(this.tokenUser != null){this.role = 'User'}\r\n            if(this.tokenAdmin != null){this.role = 'Admin'}\r\n            axios.post(\"http://localhost:5000/checkTokenLogin\", {\r\n                role: this.role,\r\n                tokenUser: this.tokenUser,\r\n                tokenAdmin: this.tokenAdmin,\r\n            }).then((response => {\r\n                if(response.data.message == 'You can pass! (User)'){\r\n                    this.id = response.data.id\r\n                    this.acc_id =response.data.acc_id\r\n                    this.permissionPath = '/user'\r\n                }\r\n                if(response.data.message == 'You can pass! (Admin)'){\r\n                    this.id = response.data.id\r\n                    this.acc_id =response.data.acc_id\r\n                    this.manage_acc = response.data.rule_manage_acc\r\n                    this.manage_standand = response.data.rule_standand_admin\r\n                    this.permissionPath = '/admin'\r\n                }\r\n            })).catch((err) => {\r\n                this.$swal({\r\n                    icon: 'warning',\r\n                    title: 'Oops! Error Your token hahahaha.',\r\n                    showConfirmButton: true,\r\n                })\r\n                this.$router.push({ name: \"Home\" });\r\n                console.log(err)\r\n            })  \r\n        }\r\n        else{\r\n            this.$swal({\r\n                icon: 'warning',\r\n                title: 'กรุณาล็อกอินก่อนเข้าใช้งาน',\r\n                showConfirmButton: true,\r\n            })\r\n            this.$router.push({ name: \"Home\" });\r\n        }\r\n    },\r\n    methods:{\r\n        validationStatusError(validation) {\r\n            return typeof validation != \"undefined\" ? validation.$error : false;\r\n        },\r\n        submit(){\r\n            this.$v.$touch();\r\n            if( this.$v.$pendding || this.$v.$error ) return;\r\n            this.$swal({\r\n                title: 'Are you sure?',\r\n                text: \"Would you like to send a feedback?\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Confirm'\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    axios.post(\"http://localhost:5000/sendfeedback\",{\r\n                        acc_id: this.acc_id,\r\n                        report_desciption: this.report_desciption\r\n                    }).then((response) =>{\r\n                        this.report_desciption = '';\r\n                        this.$v.$reset();\r\n                        this.$swal({\r\n                            icon: 'success',\r\n                            title: 'Sent successfully',\r\n                            showConfirmButton: false,\r\n                            timer: 1500\r\n                        })\r\n                        console.log(response)\r\n                    }).catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    footer {\r\n        left: 0;\r\n        bottom: 0;\r\n        width: 100%;\r\n        background-color: #963306;\r\n        padding: 10px 0px 10px 30px;\r\n    }\r\n</style>"]}]}